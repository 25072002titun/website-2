!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1)},function(e,t){var n=document.getElementById("renderCanvas");document.getElementById("overlay");BABYLON.Engine.isSupported()?window.onload=function(e){var t={engine:new BABYLON.Engine(n,!0),scene:null,camera:null,darkGrey:null,syncanoBlue:null,initScene:function(){this.darkGrey="#333a42",this.syncanoBlue="#338cdb",this.lightGrey="#717a85",this.scene=new BABYLON.Scene(this.engine),this.scene.clearColor=new BABYLON.Color3(1,1,1),this.clearColor=new BABYLON.Color3(0,0,0),this.camera=new BABYLON.ArcRotateCamera("Camera",.5*-Math.PI,.5*Math.PI,40,new BABYLON.Vector3(0,20,0),this.scene),this.camera.target=new BABYLON.Vector3(0,14.3,0),this.camera.upperRadiusLimit=120,this.camera.lowerRadiusLimit=30,this.camera.lowerAlphaLimit=.9*-Math.PI,this.camera.upperAlphaLimit=.1*-Math.PI,this.camera.lowerBetaLimit=.1*Math.PI,this.camera.upperBetaLimit=.52*Math.PI,this.camera.panningSensibility=0;var e=this.createClickBlocker(),t=this.createWhiteBg();window.addEventListener("resize",function(){this.engine.resize()}.bind(this));var i=new BABYLON.Color4(1,1,1,1),a=(new BABYLON.Layer("background","assets/background2.jpg",this.scene,!0,i),new BABYLON.DirectionalLight("Dir3",new BABYLON.Vector3(-10,-0,0),this.scene),new BABYLON.HemisphericLight("light4",new BABYLON.Vector3(0,1,-1),this.scene),BABYLON.Mesh.CreatePlane("dummyLayers1",1e-4,this.scene)),o=BABYLON.Mesh.CreatePlane("dummyAllElements",1e-4,this.scene),s=this.createPlaneWithTex(9,new BABYLON.Vector3(0,20,1),"assets/loadingScreen2.jpg");s.scaling.y=.25;var r=this.createPlaneWithTex(10,new BABYLON.Vector3(0,.415,1),"assets/fadeToWhite2.png");r.scaling.y=.002,r.material.emissiveColor=new BABYLON.Color3(1,1,1),r.material.specularColor=new BABYLON.Color3(0,0,0),r.material.opacityTexture=new BABYLON.Texture("assets/fadeToWhite2.png",this.scene),r.parent=this.camera;var c,B=1024,A=(window.navigator.standalone,window.navigator.userAgent.toLowerCase()),l=(/safari/.test(A),/iphone|ipod|ipad/.test(A),new BABYLON.AssetsManager(this.scene)),h=l.addMeshTask("3d scheme task","","./assets/","3dscheme98.babylon");h.onSuccess=function(n){c=n.loadedMeshes;var i=this.scene.getMeshByName("Cylinder001"),r=this.scene.getMeshByName("Cylinder002");i.position.z+=1,i.position.x-=.15,i.parent=a,this.scene.getMeshByName("Cylinder002").parent=i;var A=this.scene.getMeshByName("dataFlow"),l=this.scene.getMeshByName("dataFlow2");A.position=new BABYLON.Vector3(0,0,12.5),A.visibility=0,l.visibility=0,this.scene.registerBeforeRender(function(){i.material.diffuseTexture.vOffset-=.05,i.material.opacityTexture.vOffset-=.05,r.material.diffuseTexture.vOffset+=.05,r.material.opacityTexture.vOffset+=.05}.bind(this)),this.scene.getMeshByName("infrastructure").position.y+=-.5,this.scene.getMeshByName("processing").position.y+=-.5,this.scene.getMeshByName("sync").position.y+=.5,this.scene.getMeshByName("storage").position.y+=.5,this.scene.getMeshByName("socket2").position.y+=-19,this.scene.getMeshByName("socket3").position.y+=-19,this.scene.getMeshByName("socket4").position.y+=-19,this.scene.getMeshByName("dummyAllScheme").parent=a,a.parent=o;var h=this.scene.getMeshByName("iphone"),O=this.scene.getMeshByName("iphoneHighlighted"),N=this.scene.getMeshByName("arrow");N.visibility=.4,O.visibility=0,h.parent=o;var m=new BABYLON.Mesh.CreateBox("iphonePick",10,this.scene),u=this.moveIphone(m,30,h);u.parent=o,u.scaling=new BABYLON.Vector3(1,.18,1.8),u=this.scaleElement(u,a,o,30,h,O,s,N),u.visibility=1e-6,a.scaling=new BABYLON.Vector3(1e-10,1e-10,1e-10),o.rotation=new BABYLON.Vector3(.5*-Math.PI,0,0),u.position=new BABYLON.Vector3(0,-1,20),h.position=new BABYLON.Vector3(-85,0,-45);var g=this.createIcon(2.5,new BABYLON.Vector3(24,31.1,-13),"assets/return6.png"),Y=this.createText("Frontend Stack","Support for popular technologies",.48,28,new BABYLON.Vector3(-25,37,0),1,B,this.darkGrey,this.lightGrey),d=(this.createLine(Y.position,new BABYLON.Vector3(20,-3.5,1.55)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(-25,44,0),1,B,this.darkGrey,this.syncanoBlue));d.visibility=0;var p=this.createText("API","A customizable API for your backend",.48,28,new BABYLON.Vector3(25,27,0),1,B,this.darkGrey,this.lightGrey),w=(this.createLine(p.position,new BABYLON.Vector3(-20,-3.5,1.55)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(25,34,0),1,B,this.darkGrey,this.syncanoBlue));w.visibility=0;var v=this.createText("Data Flow","Packets of data",.48,28,new BABYLON.Vector3(25,42,0),1,B,this.darkGrey,this.lightGrey),T=(this.createLine(v.position,new BABYLON.Vector3(-23.5,-4,2.5)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(25,49,0),1,B,this.darkGrey,this.syncanoBlue));T.visibility=0;var y=this.createText("Sockets","Building blocks for your backend",.48,28,new BABYLON.Vector3(-25,17.5,0),1,B,this.darkGrey,this.lightGrey),M=(this.createLine(y.position,new BABYLON.Vector3(20,-4,1.55)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(-25,24.5,0),1,B,this.darkGrey,this.syncanoBlue));M.visibility=0;var f=this.createText("Data Core","Under the hood of your backend",.48,28,new BABYLON.Vector3(25,6,0),1,B,this.darkGrey,this.lightGrey),V=(this.createLine(f.position,new BABYLON.Vector3(-17,-3.1,1.55)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(25,13,0),1,B,this.darkGrey,this.syncanoBlue));V.visibility=0;var E=this.createText("Infrastructure","Syncano servers and infrastructure details",.48,28,new BABYLON.Vector3(-25,-4,0),1,B,this.darkGrey,this.lightGrey),I=(this.createLine(E.position,new BABYLON.Vector3(18,-3.3,1.55)),this.createText("","Click to learn more",.48,28,new BABYLON.Vector3(-25,3,0),1,B,this.darkGrey,this.syncanoBlue));I.visibility=0;this.createText("User Device","",.48,28,new BABYLON.Vector3(0,44,9.5),1,B,this.darkGrey,this.lightGrey),this.createLine(new BABYLON.Vector3(0,47,9.5),new BABYLON.Vector3(0,-4,0));this.addGhostAnimToElement(this.scene.getMeshByName("frontendstack"),a,L,29,new BABYLON.Vector3(1,.18,1.7),-13.5,-10,-20,null,null,null,e,t,g,new BABYLON.Vector3(-25,8,0),d),this.addGhostAnimToElement(this.scene.getMeshByName("api"),a,L,19,new BABYLON.Vector3(1,.18,1.7),-13.5,0,-20,null,null,null,e,t,g,new BABYLON.Vector3(25,7.5,0),w),this.addGhostAnimToElement(this.scene.getMeshByName("socket1"),a,L,9,new BABYLON.Vector3(1,.18,1.9),-19,15.5,-11.8,this.scene.getMeshByName("socket2"),this.scene.getMeshByName("socket3"),this.scene.getMeshByName("socket4"),e,t,g,new BABYLON.Vector3(-25,7,0),M),this.addGhostAnimToElement(this.scene.getMeshByName("processing"),a,L,-1,new BABYLON.Vector3(1.7,.18,1.9),-22,15.5,-10.5,this.scene.getMeshByName("sync"),this.scene.getMeshByName("storage"),null,e,t,g,new BABYLON.Vector3(25,5,0),V),this.addGhostAnimToElement(this.scene.getMeshByName("infrastructure"),a,L,-11.5,new BABYLON.Vector3(1.7,.18,1.7),-13,31.2,-20,null,null,null,e,t,g,new BABYLON.Vector3(-25,8.5,0),I),this.addGhostAnimToElement(A,a,L,14,new BABYLON.Vector3(.3,5,.1),-12,-50,-43,null,null,null,e,t,g,new BABYLON.Vector3(25,28,0),T),this.cameraZoomAnimation(u,115,.55*-Math.PI,.34*Math.PI,new BABYLON.Vector3(0,5,0),40,.5*-Math.PI,.5*Math.PI,new BABYLON.Vector3(0,14.3,0),L)}.bind(this),h.onTaskError=function(e){console.log("An error occured while loading meshes.")},l.onFinish=function(){var e=this.createPlaneWithTex(10,new BABYLON.Vector3(0,0,0),"assets/gradient.png");e.parent=a,e.position=new BABYLON.Vector3(0,-11.788,-43.5),e.rotation.x=.5*Math.PI,e.scaling=new BABYLON.Vector3(.4,7,1),this.camera.attachControl(n,!0)}.bind(this);var O=[{position:new BABYLON.Vector3(-8.3,.4,-30.5),url:"http://docs.syncano.io/docs/javascript",lengthField:1.4},{position:new BABYLON.Vector3(-8.3,.08,-30.5),url:"http://docs.syncano.io/docs/ios",lengthField:1.4},{position:new BABYLON.Vector3(-8.3,-.26,-30.5),url:"http://docs.syncano.io/docs/android",lengthField:1.4},{position:new BABYLON.Vector3(-8.3,-.58,-30.5),url:"http://docs.syncano.io/docs/python",lengthField:1.4},{position:new BABYLON.Vector3(-8.3,-.9,-30.5),url:"http://docs.syncano.io/docs/syncano-libraries",lengthField:1.4}],N=[{position:new BABYLON.Vector3(-3.3,.1,-30.5),url:"http://docs.syncano.io/v0.1.1/docs/",lengthField:2.3}],m=[{position:new BABYLON.Vector3(-2,.38,-30.5),url:"http://docs.syncano.io/v1.1/docs/syncano-what-are-sockets",lengthField:3.6}],u=[{position:new BABYLON.Vector3(-8,.67,-30.5),url:"http://docs.syncano.io/docs/user-management",lengthField:2.5},{position:new BABYLON.Vector3(-8,.335,-30.5),url:"http://docs.syncano.io/docs/classes-overview",lengthField:2.5},{position:new BABYLON.Vector3(-8,-0,-30.5),url:"http://docs.syncano.io/docs/data-objects-overview",lengthField:2.5},{position:new BABYLON.Vector3(-7.7,-.345,-30.5),url:"http://docs.syncano.io/docs/snippets-scripts",lengthField:3.2},{position:new BABYLON.Vector3(-7.8,-.67,-30.5),url:"http://docs.syncano.io/docs/snippets-templates",lengthField:3}],L=[];L.push(this.createProperText("assets/texts/frontendStack.png",new BABYLON.Vector3(7,17.8,-10.1),O)),L.push(this.createProperText("assets/texts/syncanoApi.png",new BABYLON.Vector3(7,17.8,-10.1),N)),L.push(this.createProperText("assets/texts/syncanoSockets.png",new BABYLON.Vector3(-1.5,17.8,-10.1),m)),L.push(this.createProperText("assets/texts/dataCore.png",new BABYLON.Vector3(7,17.8,-10.1),u)),L.push(this.createProperText("assets/texts/infrastructure.png",new BABYLON.Vector3(11,17.8,-10.1),null)),L.push(this.createProperText("assets/texts/dataFlow.png",new BABYLON.Vector3(0,17.8,-10.1),null)),l.load()},addGhostAnimToElement:function(e,t,n,i,a,o,s,r,c,B,A,l,h,O,N,m,u){var L=this.createGhost(new BABYLON.Vector3(0,0,0),a,N);L.parent=t;var g=this.createDummy(new BABYLON.Vector3(0,i+.5,0),!1);if(g.parent=t,e.parent=g,L.parent=g,null!=c){var Y=this.createDummy(new BABYLON.Vector3(0,i+.5,0),!1);Y.parent=g,c.parent=Y,c.position.y+=.5;var d=this.createDummy(new BABYLON.Vector3(0,i+.5,0),!1);if(d.parent=g,B.parent=d,B.position.y+=.5,null!=A){var p=this.createDummy(new BABYLON.Vector3(0,i+.5,0),!1);p.parent=g,A.parent=p,A.position.y+=.5}}e.translate(new BABYLON.Vector3(0,1,0),-i,BABYLON.Space.LOCAL),this.moveRotateElement(L,g,o,s,r,30,c,B,A,n,l,h,O,m,u),this.cameraZoomAnimation(L,55,.5*-Math.PI,.5*Math.PI,new BABYLON.Vector3(0,16,0),115,.55*-Math.PI,.34*Math.PI,new BABYLON.Vector3(0,5,0),n)},extraElementAnimStart:function(e,t,n,i){var a=new BABYLON.Animation("ExtraMeshMove","position",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),o=[{frame:0,value:e.position},{frame:.5*t,value:e.position.add(n)},{frame:t,value:e.position.add(i)}];a.setKeys(o);var s=new BABYLON.SineEase;s.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT),a.setEasingFunction(s),e.animations.push(a),this.scene.beginAnimation(e,0,t,!1)},extraElementAnimStop:function(e,t,n,i){var a=new BABYLON.Animation("ExtraMeshMove","position",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),o=[{frame:0,value:e.position},{frame:.5*t,value:e.position.add(n)},{frame:t,value:e.position.add(i)}];a.setKeys(o);var s=new BABYLON.SineEase;s.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT),a.setEasingFunction(s),e.animations.push(a),this.scene.beginAnimation(e,0,t,!1)},createIcon:function(e,t,n){var i=this.createPlaneWithTex(e,t,n);i.visibility=0;var a=new BABYLON.Animation("iconPosition","visibility",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),o=[{frame:0,value:0},{frame:37,value:0},{frame:40,value:1},{frame:43,value:0},{frame:80,value:0}];return a.setKeys(o),i.animations.push(a),i},createButtonInstruction:function(e,t,n){var i=this.createPlaneWithTex(e,t,n),a=new BABYLON.Animation("buttonPosition","visibility",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),o=[{frame:0,value:.4},{frame:60,value:0}];return a.setKeys(o),i.animations.push(a),i.visibility=.4,i},createPlaneWithTex:function(e,t,n){var i=BABYLON.Mesh.CreatePlane("icon",e,this.scene,!1),a=new BABYLON.StandardMaterial("iconMat",this.scene);return a.diffuseTexture=new BABYLON.Texture(n,this.scene),a.opacityTexture=new BABYLON.Texture(n,this.scene),a.emissiveColor=new BABYLON.Color3(1,1,1),i.material=a,i.position=t,i},moveRotateElement:function(e,t,n,i,a,o,s,r,c,B,A,l,h,O){e.actionManager=new BABYLON.ActionManager(this.scene),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.x",t.position.x+n,o+390)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.x",t.position.x,o+390)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.y",t.position.y+i,o+390)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.y",t.position.y,o+100)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.z",t.position.z+a,o+100)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,t,"position.z",t.position.z,o+390)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"scaling.x",1e4,o+100)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"scaling.x",t.scaling.x,o+390)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"scaling.z",1e4,o+100)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"scaling.z",t.scaling.z,o+390)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPointerOverTrigger,O,"visibility",1,10)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPointerOutTrigger,O,"visibility",0,10));var N=new BABYLON.Animation("RotationElement","rotation",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),m=[{frame:0,value:t.rotation},{frame:o,value:new BABYLON.Vector3(.5*-Math.PI,0,0)},{frame:2*o,value:new BABYLON.Vector3(0,0,0)}];return N.setKeys(m),t.animations.push(N),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){document.getElementById("overlay").style.display="block",this.scene.beginAnimation(t,0,o,!1),this.scene.beginAnimation(A,0,1,!1),this.scene.beginAnimation(l,0,30,!1),this.scene.beginAnimation(h,0,40,!1),this.showProperText(t.getChildren()[0],B),null!=s&&(null!=c?(this.extraElementAnimStart(s,40,new BABYLON.Vector3(4,0,-8.5),new BABYLON.Vector3(-4.8,0,-8.5)),this.extraElementAnimStart(r,40,new BABYLON.Vector3(0,0,-2),new BABYLON.Vector3(0,0,0)),this.extraElementAnimStart(c,40,new BABYLON.Vector3(5,0,-10.5),new BABYLON.Vector3(-4.8,0,-8.5))):(this.extraElementAnimStart(s,60,new BABYLON.Vector3(0,0,8.5),new BABYLON.Vector3(8.25,0,8.5)),this.extraElementAnimStart(r,60,new BABYLON.Vector3(4,0,10.2),new BABYLON.Vector3(4,0,10.2))))}.bind(this))).then(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){setTimeout(function(){document.getElementById("overlay").style.display="none"},800),this.scene.beginAnimation(t,o,2*o,!1),this.scene.beginAnimation(A,1,2,!1),this.scene.beginAnimation(l,30,40,!1),this.scene.beginAnimation(h,40,80,!1),this.hideProperText(t.getChildren()[0],B),null!=s&&(null!=c?(this.extraElementAnimStart(s,40,new BABYLON.Vector3(8,0,0),new BABYLON.Vector3(4.8,0,8.5)),this.extraElementAnimStart(r,40,new BABYLON.Vector3(0,0,-2),new BABYLON.Vector3(0,0,0)),this.extraElementAnimStart(c,40,new BABYLON.Vector3(8,0,-2),new BABYLON.Vector3(4.8,0,8.5))):(this.extraElementAnimStop(s,60,new BABYLON.Vector3(-10,0,0),new BABYLON.Vector3(-8.25,0,-8.5)),this.extraElementAnimStop(r,60,new BABYLON.Vector3(-4,0,5.2),new BABYLON.Vector3(-4,0,-10.2))))}.bind(this))),e},createGhost:function(e,t,n){var i=new BABYLON.Mesh.CreateBox("ghost",10,this.scene);i.position=e,i.scaling=t;var a=new BABYLON.Mesh.CreatePlane("ghostPlane",9,this.scene);a.position=n,a.position.add(e),a.scaling.x=2;var o=[i,a],s=BABYLON.Mesh.MergeMeshes(o);return s.visibility=9e-12,s},createDummy:function(e,t){var n=new BABYLON.Mesh.CreateBox("dummy",1,this.scene);return n.position=e,n.isVisible=t,n},showButtonsAndText:function(e){var t=e.getChildren();t&&t.forEach(function(e){e.isVisible=!0,e.visibility=1e-5}),this.scene.beginAnimation(e,0,30,!1)},hideButtonsAndText:function(e){var t=e.getChildren();t&&t.forEach(function(e){e.isVisible=!1,e.visibility=0}),this.scene.beginAnimation(e,31,60,!1)},showProperText:function(e,t){switch(this.camera.detachControl(n),setTimeout(function(){document.getElementById("overlay").style.display="none"},900),e.name){case"frontendstack":this.showButtonsAndText(t[0]);break;case"api":this.showButtonsAndText(t[1]);break;case"socket1":this.showButtonsAndText(t[2]);break;case"processing":this.showButtonsAndText(t[3]);break;case"infrastructure":this.showButtonsAndText(t[4]);break;case"dataFlow":this.showButtonsAndText(t[5]),this.scene.getMeshByName("dataFlow").visibility=1,this.scene.getMeshByName("dataFlow2").visibility=1}},hideProperText:function(e,t){switch(this.camera.attachControl(n,!0),document.getElementById("overlay").style.display="block",e.name){case"frontendstack":this.hideButtonsAndText(t[0]);break;case"api":this.hideButtonsAndText(t[1]);break;case"socket1":this.hideButtonsAndText(t[2]);break;case"processing":this.hideButtonsAndText(t[3]);break;case"infrastructure":this.hideButtonsAndText(t[4]);break;case"dataFlow":this.hideButtonsAndText(t[5]),this.scene.getMeshByName("dataFlow").visibility=0,this.scene.getMeshByName("dataFlow2").visibility=0}},createProperText:function(e,t,n){var i=this.createTextHQ(.7,t),a=new BABYLON.Animation("visibleTextRectAnim","visibility",50,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),o=[{frame:0,value:0},{frame:20,value:0},{frame:30,value:1},{frame:40,value:0},{frame:60,value:0}];if(a.setKeys(o),i.animations.push(a),i.material.diffuseTexture=new BABYLON.Texture(e,this.scene,!1,!0,BABYLON.Texture.BILINEAR_SAMPLINGMODE),n)for(var s=0;s<n.length;s++){var r=n[s];for(var c in r){var B=this.createButton(r.url);B.parent=i,B.position=r.position,B.scaling.x=r.lengthField}}return i},scaleElement:function(e,t,n,i,a,o,s,r){var c=new BABYLON.Animation("ScaleElement","scaling",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),B=[{frame:0,value:new BABYLON.Vector3(1e-12,1e-12,1e-12)},{frame:i,value:new BABYLON.Vector3(1,1,1)},{frame:1.5*i,value:new BABYLON.Vector3(.01,.01,.01)},{frame:2*i,value:new BABYLON.Vector3(1e-12,1e-12,1e-12)}];c.setKeys(B);var A=new BABYLON.CubicEase;A.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);var l=new BABYLON.BezierCurveEase(.35,1e-4,.65,.9999);return c.setEasingFunction(l),t.animations.push(c),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){s.visibility=0,this.scene.beginAnimation(t,0,i,!1),setTimeout(function(){r.visibility=0}.bind(this),3100)}.bind(this))).then(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){this.scene.beginAnimation(t,i,2*i,!1)}.bind(this))),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"rotation",n.rotation,450)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"rotation",n.rotation.add(new BABYLON.Vector3(.5*-Math.PI,0,0)),450)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"position",n.position,450)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"position",n.position.add(new BABYLON.Vector3(0,20,0)),450)),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger,function(){a.visibility=0,o.visibility=1}.bind(this))),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger,function(){a.visibility=1,o.visibility=0}.bind(this))),e},moveIphone:function(e,t,n){return e.actionManager=new BABYLON.ActionManager(this.scene),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"position",n.position,450)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,n,"position",n.position.add(new BABYLON.Vector3(0,-40,0)),450)),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"position",e.position.add(new BABYLON.Vector3(0,39,0)),450)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"position",e.position.add(new BABYLON.Vector3(0,-1,0)),450)),e},cameraZoomAnimation:function(e,t,n,i,a,o,s,r,c,B){var A=30;return null==e.actionManager&&(e.actionManager=new BABYLON.ActionManager(this.scene)),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){var e=new BABYLON.Animation("camRadiusAnim","radius",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),o=[{frame:0,value:this.scene.activeCamera.radius},{frame:A,value:t}];e.setKeys(o);var s=new BABYLON.Animation("camAlphaAnim","alpha",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),r=[{frame:0,value:this.scene.activeCamera.alpha},{frame:A,value:n}];s.setKeys(r);var c=new BABYLON.Animation("camBetaAnim","beta",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),B=[{frame:0,value:this.scene.activeCamera.beta},{frame:A,value:i}];c.setKeys(B);var l=new BABYLON.Animation("targetAnim","target",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),h=[{frame:0,value:this.scene.activeCamera.target},{frame:A,value:a}];l.setKeys(h),this.scene.activeCamera.animations.length>0&&this.scene.activeCamera.animations.splice(0,1);var O=new BABYLON.CubicEase;O.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);var N=new BABYLON.BezierCurveEase(.3,.01,.7,.99);e.setEasingFunction(N),l.setEasingFunction(N),this.scene.activeCamera.animations.push(e),this.scene.activeCamera.animations.push(s),this.scene.activeCamera.animations.push(c),this.scene.activeCamera.animations.push(l),this.scene.beginAnimation(this.scene.activeCamera,0,A,!1)}.bind(this))).then(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(){var e=new BABYLON.Animation("camRadiusAnim","radius",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),t=[{frame:0,value:this.scene.activeCamera.radius},{frame:A,value:o}];e.setKeys(t);var n=new BABYLON.Animation("camAlphaAnim","alpha",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),i=[{frame:0,value:this.scene.activeCamera.alpha},{frame:A,value:s}];n.setKeys(i);var a=new BABYLON.Animation("camBetaAnim","beta",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),B=[{frame:0,value:this.scene.activeCamera.beta},{frame:A,value:r}];a.setKeys(B);var l=new BABYLON.Animation("targetAnim","target",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT),h=[{frame:0,value:this.scene.activeCamera.target},{frame:A,value:c}];l.setKeys(h),this.scene.activeCamera.animations.length>0&&this.scene.activeCamera.animations.splice(0,1),this.scene.activeCamera.animations.push(e),this.scene.activeCamera.animations.push(n),this.scene.activeCamera.animations.push(a),this.scene.activeCamera.animations.push(l),this.scene.beginAnimation(this.scene.activeCamera,0,A,!1)}.bind(this))),e},createText:function(e,t,n,i,a,o,s,r,c){var B=BABYLON.Mesh.CreatePlane("textField",i,this.scene,!1),A=new BABYLON.StandardMaterial("textField",this.scene);B.material=A,B.position=a;var l=new BABYLON.DynamicTexture("dynamic texture",s,this.scene,!0);l.vOffset=.35,B.material.diffuseTexture=l,B.material.emissiveColor=new BABYLON.Color3(1,1,1);var h=.1*s*o;l.drawText(e,null,n*s*.3,"bold "+h+"px Roboto",r,null);var O=.045*s*o;return l.drawText(t,null,n*s*.52," "+O+"px Roboto",c,null),B.material.opacityTexture=l,B.parent=this.scene.getMeshByName("dummyAllScheme"),B},addWrappingText:function(e,t,n,i,a,o,s,r){var c=e.material.diffuseTexture.getContext();return c.font=""+.023*r+"px Roboto",c.save(),c.fillStyle=this.darkGrey,c.textAlign="centre",this.wrapText(c,t,n,i,a,o,s),c.restore(),e.material.diffuseTexture.update(),e},createTextHQ:function(e,t){var n=BABYLON.Mesh.CreatePlane("textField",43*e,this.scene,!1);n.parent=this.dummyReminder;var i=new BABYLON.StandardMaterial("textField",this.scene);return n.material=i,n.position=t,n.material.specularColor=new BABYLON.Color3(0,0,0),n.material.emissiveColor=new BABYLON.Color3(1,1,1),n.visibility=0,n},createButton:function(e){var t=BABYLON.Mesh.CreatePlane("button1",1,this.scene,!1);return t.scaling.y=.3,t.actionManager=new BABYLON.ActionManager(this.scene),t.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(t){console.log("button");var n=window.open(e,"_blank");n.focus()})),t.isVisible=!1,t},createClickBlocker:function(){var e=BABYLON.Mesh.CreatePlane("clickBlocker",1e3,this.scene,!1);e.position=new BABYLON.Vector3(5e3,0,-10),e.actionManager=new BABYLON.ActionManager(this.scene),e.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"position.y",0,1)).then(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPickTrigger,e,"position.y",0,1));var t=new BABYLON.Animation("blockerTranslation","position.x",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),n=[{frame:0,value:5e3},{frame:1,value:0},{frame:2,value:5e3}];return t.setKeys(n),e.animations.push(t),e.visibility=0,e},createWhiteBg:function(){var e=BABYLON.Mesh.CreatePlane("whiteBg",1e3,this.scene,!1);e.position=new BABYLON.Vector3(0,0,-10);var t=new BABYLON.Animation("visibilityAnim","visibility",50,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE),n=[{frame:0,value:0},{frame:20,value:0},{frame:30,value:1},{frame:40,value:0}];t.setKeys(n),e.animations.push(t);var i=new BABYLON.StandardMaterial("textField",this.scene);return e.material=i,e.material.specularColor=new BABYLON.Color3(0,0,0),e.material.emissiveColor=new BABYLON.Color3(1,1,1),e.visibility=0,e},wrapText:function(e,t,n,i,a,o,s){var r=n.split(" "),c="";e.font="Bold 35px Roboto",e.fillText(t,i,a),a+=1.5*s,e.font="16px Roboto";for(var B=0;B<r.length;B++){var A=c+r[B]+" ",l=e.measureText(A),h=l.width;h>o&&B>0?(e.fillText(c,i,a),c=r[B]+" ",a+=s):c=A}e.fillText(c,i,a)},createLine:function(e,t){var n=e;n=n.add(new BABYLON.Vector3(0,-4,0));var i=BABYLON.Mesh.CreateLines("lineMesh",[n,n.add(t)],this.scene);return i.color=new BABYLON.Color3(.4,.4,.4),i.parent=this.scene.getMeshByName("dummyAllScheme"),i},run:function(){this.engine.runRenderLoop(function(){this.scene.render()}.bind(this))},setVisibility:function(e,t){e.isVisible=t;for(var n=e.getChildren(),i=0;i<n.length;i++){var a=n[i];setVisibility(a,t)}}};t.initScene(),t.run()}:window.alert("Browser not supported"),document.ontouchmove=function(e){e.preventDefault()}}]);
